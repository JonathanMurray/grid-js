<html>
<head>
    <style>
        .program-window {
            outline: none
        }
        .program-window.focused {
            outline: solid rgb(209, 19, 209) 1px;
        }
    </style>
</head>
<body>

</body>

<script src="kernel/windows.js"></script>
<script src="kernel/system.js"></script>
<script src="kernel/process.js"></script>
<script src="kernel/syscalls.js"></script>

<script>

window.addEventListener("keydown", function(event) {
    if (event.code == "Tab") {
        event.preventDefault();
    }

    if (event.key == "s" && event.ctrlKey) {
        event.preventDefault();
    }
});

let theSystem;

System.init().then((system) => {
    theSystem = system;
    console.log("System initialised. Setting up window event listeners...");
    window.addEventListener("keydown", function(event) {
        system.handleEvent("keydown", event);
    });

    window.addEventListener("mousemove", (event) => {
        system.handleEvent("mousemove", event);
    });

    window.addEventListener("mouseup", (event) => {
        system.handleEvent("mouseup", event);
    });

    window.addEventListener("message", event => {
        system.handleEvent("message", event);
    });
});



</script>

</html>
